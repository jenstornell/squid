!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var o={exports:{}};t(o,o.exports),e.autosize=o.exports}}(this,function(e,t){"use strict";var o,n,r="function"==typeof Map?new Map:(o=[],n=[],{has:function(e){return o.indexOf(e)>-1},get:function(e){return n[o.indexOf(e)]},set:function(e,t){-1===o.indexOf(e)&&(o.push(e),n.push(t))},delete:function(e){var t=o.indexOf(e);t>-1&&(o.splice(t,1),n.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function l(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var t,o=null,n=null,l=null,s=function(){e.clientWidth!==n&&c()},d=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",d,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach(function(o){e.style[o]=t[o]}),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",d,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:d,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),o="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(o)&&(o=0),c()}function a(t){var o=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=o,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+o+"px",n=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function c(){u();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),n="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(n<t?"hidden"===o.overflowY&&(a("scroll"),u(),n="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(a("hidden"),u(),n="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==n){l=n;var r=i("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}}function s(e){var t=r.get(e);t&&t.destroy()}function d(e){var t=r.get(e);t&&t.update()}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((a=function(e){return e}).destroy=function(e){return e},a.update=function(e){return e}):((a=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return l(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},a.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],d),e}),t.default=a,e.exports=t.default});class MySqlQueryTester{constructor(e){this.o=Object.assign({},this.defaults(),e),document.addEventListener("DOMContentLoaded",()=>{this.onClickRun()})}defaults(){return{root:"http://localhost/misc/mysql-query-tester/"}}onClickRun(){document.querySelector("button").addEventListener("click",e=>{this.handlerClickRun()})}handlerClickRun(){this.ajax("query"),this.ajax("table")}ajax(){let e=document.querySelector("textarea").value;fetch(this.o.root+"/core/ajax-table.php",{method:"POST",body:e,headers:{"Content-Type":"Content-Type: application/json"}}).then(e=>e.text()).then(e=>{document.querySelector("#results").innerHTML=e;let t=document.querySelector("#table").scrollWidth;document.querySelector("#scrollbar").style.width=`${t}px`,(new Scrollmirror).init()})}}class Scrollmirror{constructor(){}init(){this.onScroll()}onScroll(){document.querySelector("#scrollbar").parentNode.addEventListener("scroll",e=>{let t=e.target.scrollLeft;console.log(t),document.querySelector("#table").scrollLeft=t})}runOnScroll(){}}